<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <title>Lời nhắn</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@300;400;500&display=swap"
    rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body {
      min-height: 100vh;
      background: url("h1.jpg") no-repeat center center/cover;
      font-family: 'Inter', sans-serif;
      overflow: hidden;
    }

    /* ===== TUYẾT ===== */
    #snowCanvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 2;
      display: none;
    }

    /* ===== TRÁI TIM ===== */
    .heart-group {
      position: absolute;
      top: 15%;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 12px;
      z-index: 3;
      color: white;
      transition: opacity 0.4s ease;
    }

    .tap-text {
      font-size: 15px;
      opacity: 0.9;
    }

    .arrow-to-heart {
      font-size: 26px;
      animation: arrowMove 1.5s infinite;
    }

    @keyframes arrowMove {

      0%,
      100% {
        transform: translateX(0);
      }

      50% {
        transform: translateX(8px);
      }
    }

    .heart {
      font-size: 90px;
      cursor: pointer;
      animation: heartbeat 1.5s infinite;
    }

    @keyframes heartbeat {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.15);
      }
    }

    .explode {
      animation: explode 0.6s forwards;
    }

    @keyframes explode {
      to {
        transform: scale(2);
        opacity: 0;
      }
    }

    /* ===== BOX (GIỮ NGUYÊN) ===== */
    .overlay {
      background: rgba(0, 0, 0, 0.45);
      border-radius: 18px;
      position: relative;
      display: none;
      height: 220px;
      perspective: 1000px;
      transform-style: preserve-3d;
      z-index: 3;
    }

    /* ===== CHỮ TO HƠN ===== */
    h2 {
      font-family: 'Playfair Display', serif;
      letter-spacing: 1px;
      font-size: 30px;
      /* TO HƠN */
    }

    .message-wrapper {
      position: relative;
      height: 80px;
      margin-top: 10px;
    }

    #message {
      position: absolute;
      width: 100%;
      left: 0;
      top: 0;
      font-size: 20px;
      /* TO HƠN */
      line-height: 1.7;
      /* DỄ ĐỌC */
    }

    /* ===== HIỆU ỨNG XOAY ===== */
    .rotate-out {
      animation: rotateOut 0.6s forwards;
    }

    .rotate-in {
      animation: rotateIn 0.6s forwards;
    }

    @keyframes rotateOut {
      0% {
        transform: rotateY(0deg);
        opacity: 1;
      }

      100% {
        transform: rotateY(-90deg);
        opacity: 0;
      }
    }

    @keyframes rotateIn {
      0% {
        transform: rotateY(90deg);
        opacity: 0;
      }

      100% {
        transform: rotateY(0deg);
        opacity: 1;
      }
    }

    /* ===== NEXT ===== */
    .next-arrow {
      position: absolute;
      right: -25px;
      top: 50%;
      transform: translateY(-50%);
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.85);
      color: #000;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: 0.3s;
    }

    .next-arrow:hover {
      transform: translateY(-50%) translateX(6px);
      background: #fff;
    }

    /* ===== MOBILE ===== */
    @media (max-width: 576px) {
      h2 {
        font-size: 26px;
      }

      #message {
        font-size: 18px;
      }
    }
  </style>
</head>

<body>

  <!-- ===== TUYẾT ===== -->
  <canvas id="snowCanvas"></canvas>

  <!-- ===== TRÁI TIM ===== -->
  <div id="heartGroup" class="heart-group">
    <div class="tap-text">Bấm vào đây này</div>
    <i class="bi bi-arrow-right arrow-to-heart"></i>
    <div id="heart" class="heart">❤️</div>
  </div>

  <!-- ===== BOX ===== -->
  <div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center px-3">
    <div id="contentBox" class="overlay text-white p-4 p-md-5 text-center col-12 col-sm-10 col-md-8 col-lg-6">

      <h2 class="mb-3">Gửi đến nàng</h2>

      <div class="message-wrapper">
        <p id="message" class="mb-0"></p>
      </div>

      <div id="nextBtn" class="next-arrow">
        <i class="bi bi-arrow-right fs-4"></i>
      </div>

    </div>
  </div>

  <!-- ===== NHẠC ===== -->
  <audio id="bgMusic" loop>
    <source src="hay-hay.mp3" type="audio/mpeg">
  </audio>

  <script>
    const messages = [
      "Cũng đã 4 tháng rồi nhỉ, từ ngày mà nàng nói nàng không chịu nổi cảnh yêu xa nữa.", "Em nhớ rất rõ hôm đó nàng đã đau lòng như thế nào, nhưng em biết nàng mạnh mẽ có thể vượt qua được những khó khăn đó.", "Những ngày gần đây khi nghe nhà nàng có chuyện, lòng em đau không dứt.", "Em tự hỏi tại sao thân thể nhỏ bé đó lại phải gánh chịu nhiều thứ đến như vậy.", "Em ước mình có thể bay đến chỗ nàng, ôm nàng và nói rằng mọi chuyện rồi cũng sẽ êm xuôi.", "Nhưng tiếc quá, bản thân em chẳng thể làm gì ngoài những cuộc nói chuyện không giải quyết được điều gì.", "À mà nàng có để ý bài nhạc đang nghe không, em đã chọn lọc rất kỹ đó.", "Trang web này em làm từ ngày 11/01/2026.", "Còn 4 ngày nữa là tới sinh nhật của nàng, nên em muốn tạo một chút bất ngờ.", "Mong nàng nhận được món quà nho nhỏ này và vui vẻ trở lại.", "Tuy không nhiều, nhưng chắc cũng đủ cho nàng ăn được 4–5 lần Dookki đó haha.", "Em không muốn làm mất thời gian của nàng thêm nữa vì em biết nàng còn rất bận.", "Nhưng như em đã nói rồi đấy…", "Nếu tới năm 30 mà nàng chưa có chồng, thì nàng phải lấy em đó, biết chưa?", "Tạm biệt tình yêu của em!"
    ];

    let index = 0;
    const heart = document.getElementById("heart");
    const heartGroup = document.getElementById("heartGroup");
    const box = document.getElementById("contentBox");
    const msg = document.getElementById("message");
    const nextBtn = document.getElementById("nextBtn");
    const music = document.getElementById("bgMusic");

    music.volume = 0.4;

    /* ===== TUYẾT ===== */
    const canvas = document.getElementById("snowCanvas");
    const ctx = canvas.getContext("2d");
    let w, h, snowflakes = [], snowing = false;

    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    function initSnow() {
      snowflakes = [];
      for (let i = 0; i < 120; i++) {
        snowflakes.push({
          x: Math.random() * w,
          y: Math.random() * h,
          r: Math.random() * 3 + 1,
          d: Math.random() * 1 + 0.5
        });
      }
    }

    function drawSnow() {
      if (!snowing) return;
      ctx.clearRect(0, 0, w, h);
      ctx.fillStyle = "rgba(255,255,255,0.8)";
      ctx.beginPath();

      snowflakes.forEach(f => {
        ctx.moveTo(f.x, f.y);
        ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
        f.y += f.d;
        f.x += Math.sin(f.y * 0.01) * 0.5;
        if (f.y > h) {
          f.y = -10;
          f.x = Math.random() * w;
        }
      });

      ctx.fill();
      requestAnimationFrame(drawSnow);
    }

    heart.onclick = () => {
      heart.classList.add("explode");
      heartGroup.style.opacity = "0";
      music.play();

      canvas.style.display = "block";
      snowing = true;
      initSnow();
      drawSnow();

      setTimeout(() => {
        box.style.display = "block";
        msg.textContent = messages[0];
        box.classList.add("rotate-in");
      }, 400);
    };

    nextBtn.onclick = () => {
      if (index >= messages.length - 1) {
        nextBtn.style.display = "none";
        return;
      }

      box.classList.remove("rotate-in");
      box.classList.add("rotate-out");

      setTimeout(() => {
        index++;
        msg.textContent = messages[index];
        box.classList.remove("rotate-out");
        box.classList.add("rotate-in");
      }, 600);
    };
  </script>

</body>

</html>
